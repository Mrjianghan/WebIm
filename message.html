<!doctype html>
<html lang="zh">
	<head>
        <title>Final Version</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=Edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="js/vue.js"></script>
		<script src="js/vuex.js"></script>
		<script src="js/axios.js"></script>
		<link rel="icon" href="imgs/linklogo.png">
		<link rel="stylesheet" href="css/animate.css">
        <link rel="stylesheet" href="Font-Awesome-master/css/font-awesome.min.css">
        <link rel="stylesheet" href="css/jquery.scrollbar.css">
        <link rel="stylesheet" href="css/sortstyle.css">
		<link rel="stylesheet" href="css/message.css">
        <style>
            .scrollbar-macosx {
                overflow: auto;
                max-height: 100%;
                max-width: 100%;
            }
        </style>
        <!-- HTML5 element -->
        <script src="Config_JS/browser-polyfill.min.js"></script>
		<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=HIpuFBetnp1KKYrfcleBipO6x31IeI63"></script>
    </head>
	<body>
		
		<template id="current">
			<div class="current">
				<div class="currentinner">
								
					<div class="firstline">
						<img class="firsttimeimg" :src="currentImg" @click.stop="popcurrent($event)">
						
						<div v-if="currentusershow" class="currentinfo animated bounceIn" :style="{top:top1,left:left1}">
							<img class="currentpiccontainer" :src="currentImg">
							<div class="nameandgender shenglue">{{username}} <i v-if="isgirl" class="fa fa-venus"></i><i v-if="isboy" class="fa fa-mars"></i> </div>
							<div class="cardarea">地区：{{ areaId }}
							</div>
							<div class="cardsignature">个性签名：{{ signature }}
							</div>
						</div><!--个人卡片-->
						
						<div class="currentname shenglue">{{ username }}</div>
						<i @click.stop="changebar()" class="fa fa-bars"></i>
						
						<div v-if="showslidebars" class="slidebars">
							<div @click.stop="startchat()" class="startchat lis"><i class="fa fa-commenting-o"></i><span>发起聊天</span></div>
							<div @click.stop="feedbackpop()" class="feedbackmenu lis"><i class="fa fa-pencil-square-o"></i><span>意见反馈</span></div>
							<div @click.stop="exit()" class="exit lis"><i class="fa fa-power-off"></i><span>退出</span></div>
						</div><!--三条列表-->
						
					</div>
					<div class="secondline">
						<input  v-model="mainsearchval" type="text" placeholder="搜索">
						<i @click.stop="mainsearch()" class="fa fa-search">
						</i>
						<transition name="search1">
							<div v-if="searchshow" class="searchslidedown">
								<div v-if="serachingornot" class="searchalllist">
								
									<div class="serach1friendtitle">
										<div class="searchfriendtitlewords">好友</div><div class="searchhr"></div>
									</div>
									
									<div class="unsearchfriends">
										<template v-for="friendsarr in friendsarrOne">
											<div>
												
												<div class="searchfriendcon">
													<img :src="picsrc+friendsarr.avatar">
													<div class="searchfriendname">
														{{ friendsarr.nickname }}
													</div>
												</div>
											</div>
										</template>
									</div>
									
									<div class="serach1grouptitle">
										<div class="searchgrouptitlewords">群组</div><div class="searchhr"></div>
									</div>
									
									<div class="unsearchgroups">
										<template v-for="groupsarr in groupsarrOne">
											<div>
												
												<div class="searchgroupcon">
													<img :src="groupsarr.avatar ? picsrc+groupsarr.avatar : defaultpic">
													<div class="searchgroupsname">
														{{ groupsarr.name }}
													</div>
												</div>
											
											</div>
											
										</template>
									</div>
									
									
								</div><!--未搜索状态-->
								
								<div v-else>
									
									<div v-if="haveresult">
										
										<div class="searchresultfriends">
											<template v-for="friend2 in tempfriendsarrcon[0]">
												
												<div class="innercon">
														
														<img :src="friend2.avatar ? picsrc+friend2.avatar : defaultpic">
														<div class="searchgroupsname">
															{{ friend2.nickname }}
														</div>
														
												</div>
												
											</template>
											
										</div>
										
										<div class="searchresultgroups">
											<template v-for="group2 in tempgroupsarrcon[0]">
												<div>
													<div class="innercon">
														
														<img :src="group2.avatar ? picsrc+group2.avatar : defaultpic">
														<div class="searchgroupsname">
															{{ group2.name }}
														</div>
														
													</div>
													
													
												</div>
											</template>
											
										</div>
										
									</div>
									
									<div class="noresult" v-else>
										无结果
									</div>
									
									
								</div>
								
								
								
								
								
							</div>
						</transition><!--搜索结果容器-->
					</div>
					<div class="thirdline">
						<div class="thirdflow "><i @click="addbluecolor1()" :class="{blueactive:icons1}" class=" fa fa-commenting"></i>
						</div>
						
						<div class="thirdflow thirdflowcenter"><i @click="addbluecolor2()" :class="{blueactive:icons2}" class="fa fa-microphone"></i>
						</div>
						
						<div class="thirdflow"><i @click="addbluecolor3()" :class="{blueactive:icons3}" class="fa fa-users"></i>
						</div>
						
					</div>
					
					<div>
					</div>			
				</div>
			</div>
		</template>
		
		<div id="messagemaster" @click="clearsearch(),clearslidebars(),clearcurrentinfo()">
			
			<div v-if="feedbackshow" class="transfeedback ">
				<div class="feedbackpop animated bounceIn">
					<div class="feedhead">
						<div>意见反馈</div><i @click="exitfeedback()" class="fa fa-times"></i>
					</div>
					<textarea :placeholder="placeholderfeed" class="feedbackcore" type="text" v-model="feedbacktext"></textarea>
					<button @click="sendfeedback()" >确定</button>
				</div>
			</div><!--反馈框-->
			
			<div v-if="readychatshow" class="transreadychat ">
				<div class="readychatpop  animated bounceIn">
					<div class="readychathead">
						<div>发起群聊</div><i @click="exitreadychat()" class="fa fa-times"></i>
					</div>
					<div class="switchchat">
						<div @click="sel1action()" class="selectfriends" :class = "{selects:sel1}">
							选择好友
						</div>
						<div @click="sel2action()" class="selectchatrooms" :class = "{selects:sel2}">
							选择群聊
						</div>
					</div><!--发起群聊头部-->
					<div class="switchcontainerboss">
						
						<div v-if="slebossswicth" class="sel1con">
							<div class="nouseholder"></div><!--追加头像显示容器暂时保留-->
							<div class="selectallboss">
								<div @click="selectbossornot" class="selectallcon">
									<img v-if="selectallornot" src="imgs/selected.png"><img v-else src="imgs/unselected.png">
									
									
									
									
									
									<input ref="in1" type="checkbox"><!--待处理-->
									
									
									
									
									
								</div>
								<span>全选</span>
							</div>
							<div class="getfriendscontainer">
								
								<div class="sort_box">
									
									
								</div>
							</div>
							
						</div>
						
						
						<div v-else class="sel2con">
							<template v-for="groups in groupsarrOne">
								
							</template>
							
						</div>
						<button @click="creategroupOne()"  type="button" class="beginchatbtn" :class="{btncolorswitch:btnswitchmaster}" :disabled ="beginchatbtnable">
								确定
						</button>
						
						
					</div>
				</div>
			</div><!--发起聊天框-->
			
			
			
			
			<div class="mainleft">
				
				
				<currentuser></currentuser>
				<div class="threepiecelists">
					<!--<comlist1></comlist1>
					<comlist2></comlist2>
					<comlist3></comlist3>-->
					
					<component :is="currentView"></component>
				</div>
				
				
			</div>
			<div class="mainright">
				
			</div>
			<div class="clearfix"></div>
			
			
			
			
			
			
			
		</div>
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		<!--[if lte IE 9]>
        <script src="swfupload/swfupload.min.js"></script>
        <![endif]-->
        <script src="js/jquery-1.12.4.min.js"></script>
        <script src="js/lodash.min.js"></script>
        <script src="Config_JS/webim.config.js"></script>
        <script src="Config_JS/strophe-1.2.8.min.js"></script>
        <script src="Config_JS/websdk-1.4.12.js"></script>
        <script src="Config_JS/adapter.js"></script>
        <script src="Config_JS/webrtc-1.4.12.js"></script>
        
        <script src="js/jquery.scrollbar.min.js"></script>
		
        <script>
            $(function(){
                $('.scrollbar-macosx').scrollbar();
            });
        </script>
        <script src="js/jquery.charfirst.pinyin.js"></script>
        <script src="js/sort.js"></script>
        <script src="js/emoji.js"></script>
		<script src="js/message.js"></script>
	</body>
</html>