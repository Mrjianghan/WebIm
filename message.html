<!doctype html>
<html lang="zh">
	<head>
        <title>Final Version</title>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=9; IE=8; IE=7; IE=Edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <script src="js/vue.js"></script>
		<script src="js/vuex.js"></script>
		<script src="js/axios.js"></script>
		<link rel="icon" href="imgs/linklogo.png">
		<link rel="stylesheet" href="css/animate.css">
        <link rel="stylesheet" href="Font-Awesome-master/css/font-awesome.min.css">
        <link rel="stylesheet" href="css/jquery.scrollbar.css">
        <link rel="stylesheet" href="css/sortstyle.css">
		<link rel="stylesheet" href="css/message.css">
        <style>
            .scrollbar-macosx {
                overflow: auto;
                max-height: 100%;
                max-width: 100%;
            }
        </style>
        <!-- HTML5 element -->
        <script src="Config_JS/browser-polyfill.min.js"></script>
		<script type="text/javascript" src="http://api.map.baidu.com/api?v=2.0&ak=HIpuFBetnp1KKYrfcleBipO6x31IeI63"></script>
    </head>
	<body>
		
		<template id="current">
			<div class="current">
				<div class="currentinner">
								
					<div class="firstline">
						<img class="firsttimeimg" :src="currentImg" @click.stop="popcurrent($event)">
						
						<div v-if="currentusershow" class="currentinfo animated bounceIn" :style="{top:top1,left:left1}">
							<img class="currentpiccontainer" :src="currentImg">
							<div class="nameandgender shenglue">{{username}} <i v-if="isgirl" class="fa fa-venus"></i><i v-if="isboy" class="fa fa-mars"></i> </div>
							<div class="cardarea">地区：{{ areaId }}
							</div>
							<div class="cardsignature">个性签名：{{ signature }}
							</div>
						</div><!--个人卡片-->
						
						<div class="currentname shenglue">{{ username }}</div>
						<i @click.stop="changebar()" class="fa fa-bars"></i>
						
						<div v-if="showslidebars" class="slidebars">
							<div @click.stop="startchat()" class="startchat lis"><i class="fa fa-commenting-o"></i><span>发起聊天</span></div>
							<div @click.stop="feedbackpop()" class="feedbackmenu lis"><i class="fa fa-pencil-square-o"></i><span>意见反馈</span></div>
							<div @click.stop="exit()" class="exit lis"><i class="fa fa-power-off"></i><span>退出</span></div>
						</div><!--三条列表-->
						
					</div>
					<div class="secondline">
						<input  v-model="mainsearchval" type="text" placeholder="搜索">
						<i @click.stop="mainsearch()" class="fa fa-search">
						</i>
						<transition name="search1">
							<div v-if="searchshow" class="searchslidedown">
								<div v-if="serachingornot" class="searchalllist">
								
									<div class="serach1friendtitle">
										<div class="searchfriendtitlewords">好友</div><div class="searchhr"></div>
									</div>
									
									<div class="unsearchfriends">
										<template v-for="friendsarr in friendsarrOne">
											<div>
												
												<div class="searchfriendcon">
													<img :src="picsrc+friendsarr.avatar">
													<div class="searchfriendname">
														{{ friendsarr.nickname }}
													</div>
												</div>
											</div>
										</template>
									</div>
									
									<div class="serach1grouptitle">
										<div class="searchgrouptitlewords">群组</div><div class="searchhr"></div>
									</div>
									
									<div class="unsearchgroups">
										<template v-for="groupsarr in groupsarrOne">
											<div>
												
												<div class="searchgroupcon">
													<img :src="groupsarr.avatar ? picsrc+groupsarr.avatar : defaultpic">
													<div class="searchgroupsname">
														{{ groupsarr.name }}
													</div>
												</div>
											
											</div>
											
										</template>
									</div>
									
									
								</div><!--未搜索状态-->
								
								<div v-else>
									
									<div v-if="haveresult">
										
										<div class="searchresultfriends">
											<template v-for="friend2 in tempfriendsarrcon[0]">
												
												<div class="innercon">
														
														<img :src="friend2.avatar ? picsrc+friend2.avatar : defaultpic">
														<div class="searchgroupsname">
															{{ friend2.nickname }}
														</div>
														
												</div>
												
											</template>
											
										</div>
										
										<div class="searchresultgroups">
											<template v-for="group2 in tempgroupsarrcon[0]">
												<div>
													<div class="innercon">
														
														<img :src="group2.avatar ? picsrc+group2.avatar : defaultpic">
														<div class="searchgroupsname">
															{{ group2.name }}
														</div>
														
													</div>
													
													
												</div>
											</template>
											
										</div>
										
									</div>
									
									<div class="noresult" v-else>
										无结果
									</div>
									
									
								</div>
								
								
								
								
								
							</div>
						</transition><!--搜索结果容器-->
					</div>
					<div class="thirdline">
						<div class="thirdflow "><i @click="addbluecolor1()" :class="{blueactive:icons1}" class=" fa fa-commenting"></i>
						</div>
						
						<div class="thirdflow thirdflowcenter"><i @click="addbluecolor2()" :class="{blueactive:icons2}" class="fa fa-microphone"></i>
						</div>
						
						<div class="thirdflow"><i @click="addbluecolor3()" :class="{blueactive:icons3}" class="fa fa-users"></i>
						</div>
						
					</div>
					
					<div>
					</div>			
				</div>
			</div>
		</template>
		
		<!--<template id="comlistcomOne">
			
			<div>
				<h1>comlistcomOne</h1>
				<input type="text">
			</div>
			
		</template>
		
		<template id="comlistcomTwo">
			
			<div>
				<h1>comlistcomTwo</h1>
				<input type="text">
			</div>
			
		</template>
		
		<template id="comlistcomThree">
			
			
			<div>
			
				<div class="listThree_groupheader">群组
				</div>
				
				<div>
					<template v-for="(group,index) in groupsarrOne">
						<div class="con">
							
							<div :data-index="index" :data-name="group.name" :id="group.id" @click="changelistcolor1($event)" :class="{backgroundcolor:indexstrange == index}" class="listThree_groupcon">
								<img :src="group.avatar ? picsrc+group.avatar:defaultpic ">
								<div class="name">{{group.name}}
								</div>

							</div>
							
						</div>
					</template>
				</div>
				
				
				<div  class="sort_box1">
					<template v-for="(friend,i) in friendsarrOne">
							<div :data-index="i" :data-name="friend.nickname" :id="friend.id" class="sort_list1" :class="{backgroundcolor:indexstrange2 == -1-i}" @click="changelistcolor2($event)" :id="friend.nickname">
								<img :src="friend.avatar ? picsrc+friend.avatar : defaultpic">
								<div class="num_name1">{{friend.nickname}}
								</div>
							</div>
					</template>	
					
									
				</div>
				
				
				
				
				
				
			
			</div>
			
			
		</template>-->
		
		<template id="rightcomOne">
			<div>
				<input type="text">
			
				<h1>rightcomOne</h1>
			</div>
			
		</template>
		
		<template id="rightcomTwo">
			
			
			<div>
				<div class="placeholder2" v-if="placeholder2show">
					<div class="imgcon"><img src="imgs/chatroom-logo.png">
					</div>
					
					<div class="name">众享商务通讯平台</div>
				</div>
				
				<div>
				</div>
				
				
			</div>
			
			
		</template>
		
		<template id="rightcomThree">
			
			
			<div v-if="showgroupsright" class="rightgroupcon">
				
					<img :src="avatar ? picsrc+ avatar : defaultpic">
					<p>{{ name }}<span v-if="level == 10">(群主)</span></p>
					<button :id="id" type="button">发消息</button>
				
			</div>
			
			<div v-else class="rightfriendcon">
				<img :src="avatar1 ? picsrc+ avatar1 : defaultpic">
				<p class="name">{{namef}}<i v-if="girl" class="fa fa-venus"></i><i v-else class="fa fa-mars"></i> </p>
				<div class="sign">{{signature}}</div>
				<div class="addon">备注&nbsp;:&nbsp;{{remark}}</div>
				<div class="area">地区&nbsp;:&nbsp;{{areaId}}</div>
				<button :id="idf" type="button">发消息</button>
			</div>
			
			
		</template>
		
		<div id="messagemaster" @click="clearsearch(),clearslidebars(),clearcurrentinfo()">
			
			<div v-if="feedbackshow" class="transfeedback ">
				<div class="feedbackpop animated bounceIn">
					<div class="feedhead">
						<div>意见反馈</div><i @click="exitfeedback()" class="fa fa-times"></i>
					</div>
					<textarea :placeholder="placeholderfeed" class="feedbackcore" type="text" v-model="feedbacktext"></textarea>
					<button @click="sendfeedback()" >确定</button>
				</div>
			</div><!--反馈框-->
			
			<div v-if="readychatshow" class="transreadychat ">
				<div class="readychatpop  animated bounceIn">
					<div class="readychathead">
						<div>发起群聊</div><i @click="exitreadychat()" class="fa fa-times"></i>
					</div>
					<div class="switchchat">
						<div @click="sel1action()" class="selectfriends" :class = "{selects:sel1}">
							选择好友
						</div>
						<div @click="sel2action()" class="selectchatrooms" :class = "{selects:sel2}">
							选择群聊
						</div>
					</div><!--发起群聊头部-->
					<div class="switchcontainerboss">
						
						<div v-if="slebossswicth" class="sel1con">
							<div class="nouseholder"></div><!--追加头像显示容器暂时保留-->
							<div class="selectallboss">
								<div @click="selectbossornot" class="selectallcon">
									<img v-if="selectallornot" src="imgs/selected.png"><img v-else src="imgs/unselected.png">
									
									
									
									
									
									<input ref="in1" type="checkbox"><!--待处理-->
									
									
									
									
									
								</div>
								<span>全选</span>
							</div>
							<div class="getfriendscontainer">
								
								<div class="sort_box">
									
									
								</div>
							</div>
							
						</div>
						
						
						<div v-else class="sel2con">
							<template v-for="groups in groupsarrOne">
								
							</template>
							
						</div>
						<button @click="creategroupOne()"  type="button" class="beginchatbtn" :class="{btncolorswitch:btnswitchmaster}" :disabled ="beginchatbtnable">
								确定
						</button>
						
						
					</div>
				</div>
			</div><!--发起聊天框-->
			
			
			
			
			<div class="mainleft">
				
				
				<currentuser></currentuser>
				<div class="threepiecelists scrollbar-macosx">
					
						<!--<component :is="currentView"></component>-->
					
				
					<div v-if="showleft1" id="comlistcomOne">
						
						<template>
							<div class="listOnecon">
								<img src="imgs/default1.png">
								<div class="circle">12</div>
								<div class="listOnedetails">
									<div class="listOneconleft">
										<div class="listOnetopleft shenglue">名字
										</div>
										<div class="listOnebottomleft shenglue"><span>[名片]</span>聊天消息
										</div>
									</div>
									<div class="listOneconright">
										<div class="listOnetopright">18:04
										</div>
										<div class="listOnebottomright"><i class="fa fa-bell-slash-o"></i><i class="fa fa-eye-slash"></i>
										</div>
									</div>
									<div class="clearfix"></div>
								</div>
							</div>
						</template>
						
					</div>
					
					<div v-else-if="showleft2"  id="comlistcomTwo">
						<div class="chatroom">
							<div class="chatroomarea">
							</div>
							<div class="chatroomtrade">
							</div>
						</div>
						
					</div>
					
					<div v-else id="comlistcomThree">
						<div class="listThree_groupheader">群组</div>
				
						<div>
							<template v-for="(group,index) in groupsarrOne">
								<div class="con">

									<div :data-index="index" :data-name="group.name" :id="group.id" @click="changelistcolor1($event)" :class="{backgroundcolor:indexstrange == index}" class="listThree_groupcon">
										<img :src="group.avatar ? picsrc+group.avatar:defaultpic ">
										<div class="name">{{group.name}}
										</div>

									</div>

								</div>
							</template>
						</div>


						<div  class="sort_box1">
							<template v-for="(friend,i) in friendsarrOne">
									<div :data-index="i" :data-name="friend.nickname" :id="friend.id" class="sort_list1" :class="{backgroundcolor:indexstrange2 == -1-i}" @click="changelistcolor2($event)" :id="friend.nickname">
										<img :src="friend.avatar ? picsrc+friend.avatar : defaultpic">
										<div class="num_name1">{{friend.nickname}}
										</div>
									</div>
							</template>	


						</div>
					</div>
					
				</div>
				
				
			</div>
			<div class="mainright">
				<!--<keep-alive include="rightcomTwo,rightcomOne">-->
					<component :is="currentView1"></component>
				<!--</keep-alive>-->
			</div>
			<div class="clearfix"></div>
			
			
			
			
			
			
			
		</div>
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		
		<!--[if lte IE 9]>
        <script src="swfupload/swfupload.min.js"></script>
        <![endif]-->
        <script src="js/jquery-1.12.4.min.js"></script>
        <script src="js/lodash.min.js"></script>
        <script src="Config_JS/webim.config.js"></script>
        <script src="Config_JS/strophe-1.2.8.min.js"></script>
        <script src="Config_JS/websdk-1.4.12.js"></script>
        <script src="Config_JS/adapter.js"></script>
        <script src="Config_JS/webrtc-1.4.12.js"></script>
        
        <script src="js/jquery.scrollbar.min.js"></script>
		
        <script>
            $(function(){
                $('.scrollbar-macosx').scrollbar();
            });
        </script>
        <script src="js/jquery.charfirst.pinyin.js"></script>
        <script src="js/sort.js"></script>
        <script src="js/emoji.js"></script>
		<script src="js/message.js"></script>
	</body>
</html>